import { INav } from "@/interfaces";
import { Popover, Transition } from "@headlessui/react";
import Link from "next/link";
import React, { Fragment } from "react";
import { useAuthToken } from "../../hooks/useAuthToken";
import { Logo } from "./Logo";

export const solutions: INav[] = [
  {
    name: "Inicio",
    description: "Inicio",
    href: "/",
    icon: <></>,
  },
  {
    name: "Proyectos",
    description:
      "Get a better understanding of where your traffic is coming from.",
    href: "/proyectos",
    icon: <></>,
  },
  {
    name: "Contacto",
    description: "Speak directly to your customers in a more meaningful way.",
    href: "/contacto",
    icon: <></>,
  },
];

export const NavPanel = () => {
  const { user } = useAuthToken();

  return (
    <Transition
      as={Fragment}
      enter="duration-200 ease-out"
      enterFrom="opacity-0 scale-95"
      enterTo="opacity-100 scale-100"
      leave="duration-100 ease-in"
      leaveFrom="opacity-100 scale-100"
      leaveTo="opacity-0 scale-95"
    >
      <Popover.Panel
        focus
        className="absolute top-0 inset-x-0 transition transform origin-top-right md:hidden"
      >
        <div className="shadow shadow-slate-400 bg-black divide-y-2 divide-gray-50 ">
          <div className="pt-5 pb-6 px-5">
            <div className="flex items-center justify-between">
              <Logo />
              <div className="-mr-2">
                <Popover.Button className="bg-white rounded-md p-2 inline-flex items-center justify-center text-texto  focus:outline-none  ">
                  <span className="sr-only">Close menu</span>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    strokeWidth={1.5}
                    stroke="currentColor"
                    className="w-6 h-6"
                  >
                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      d="M6 18L18 6M6 6l12 12"
                    />
                  </svg>
                </Popover.Button>
              </div>
            </div>
            <div className="bg-cover h-auto ">
              <nav className="flex h-full w-full items-stretch justify-start max-w-6xl mx-auto px-8 ">
                <div className="w-full text-center mt-10 ">
                  {solutions.map((item) => (
                    <Link
                      href={item.href}
                      key={item.name}
                      className="my-8 text-whitefont-bold text-xl hover:text-gray-600 flex items-center justify-center text-white"
                      style={{ textDecoration: "none" }}
                    >
                      {item.name}
                    </Link>
                  ))}
                </div>
              </nav>
            </div>
          </div>
          <div className="py-6 px-5 space-y-6">
            {!user ? (
              <>
                {/* <div onClick={onClick}> */}
                <Link
                  href="/auth/login"
                  style={{ textDecoration: "none" }}
                  className="w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white  my-2"
                >
                  Inicia sesión
                </Link>
                {/* </div> */}
                <Link
                  href={"/auth/register"}
                  style={{ textDecoration: "none" }}
                  className="w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700 my-2"
                >
                  Regístrate
                </Link>
              </>
            ) : (
              <>
                {/* <Link href={`/portafolio/${user.key}`}> */}
                <Link
                  href={`/profile/briefcase`}
                  style={{ textDecoration: "none" }}
                  className="ml-2 whitespace-nowrap flex items-center justify-center px-3 py-2 pt-3 border-transparent rounded-md shadow-sm text-xl font-sans text-white  border-4 hover:border-b-second cursor-pointer"
                >
                  Mi Portafolio
                </Link>
                <Link
                  href={"/close"}
                  style={{ textDecoration: "none" }}
                  className="my-8 text-whitefont-bold text-xl hover:text-gray-600 flex items-center justify-center  text-white bg-primary py-3"
                >
                  Logout
                </Link>
              </>
            )}
          </div>
        </div>
      </Popover.Panel>
    </Transition>
  );
};
